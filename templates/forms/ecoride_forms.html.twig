{# templates/forms/ecoride_forms.html.twig #}

{% use 'bootstrap_5_layout.html.twig' %}

{% block form_row %}
    <div class="mb-3">

        {{ form_label(form, null, {
            label_attr: { class: 'form-label fw-semibold text-dark' }
        }) }}

        {# DÃ©tection du type de widget : textarea ou input #}
        {% if 'textarea' in form.vars.block_prefixes %}
            {% set fieldClass = 'eco-textarea' %}
        {% else %}
            {% set fieldClass = 'eco-input' %}
        {% endif %}

        {{ form_widget(form, {
            attr: attr|default({})|merge({
                class: (attr.class|default(fieldClass))
            })
        }) }}

        {{ form_errors(form) }}

    </div>
{% endblock %}

{# Neutraliser wrapper Bootstrap pour textarea #}
{% block textarea_widget %}
    {{ block('form_widget_simple') }}
{% endblock %}
