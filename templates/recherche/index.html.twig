{% extends 'base.html.twig' %}

{% block title %}Résultats de recherche - EcoRide{% endblock %}

{% block body %}
<section class="hero-section hero-recherche d-flex align-items-center text-center text-white position-relative">
  <div class="container">
    <h2 class="hero-title mb-3 text-white">Résultats de recherche</h2>
    <p class="hero-tagline mb-4">Voici les trajets correspondant à ta recherche</p>
  </div>
</section>

<section class="py-5 bg-light">
  <div class="container text-center">
    {% if trajets is empty %}
      <p class="text-muted">Aucun trajet trouvé pour cette recherche.</p>
    {% else %}
      <div class="d-flex flex-wrap justify-content-center gap-4">
        {% for trajet in trajets %}
          <div class="card border-0 shadow-sm rounded-4 p-4" style="background:#fffdf8; width:320px;">
            <div class="card-body text-start">
              <h5 class="text-success fw-bold mb-2">
                {{ trajet.villeDepart }} → {{ trajet.villeArrivee }}
              </h5>
              <p class="mb-1"><i class="bi bi-calendar"></i> {{ trajet.dateDepart|date('d/m/Y') }}</p>
              <p class="mb-1"><i class="bi bi-clock"></i> {{ trajet.dateDepart|date('H:i') }}</p>
              <p class="mb-1"><i class="bi bi-people"></i> {{ trajet.placesDisponibles }} place(s)</p>
              <p class="mb-1"><i class="bi bi-cash"></i> {{ trajet.prix }} €</p>
              <p class="small text-muted">{{ trajet.typeVehicule }} • {{ trajet.energie }}</p>
              {% if trajet.commentaire %}
                <p class="small fst-italic mt-2 text-secondary">{{ trajet.commentaire }}</p>
              {% endif %}
              {% if not app.user %}
                <div class="mt-3 text-center">
                <a href="{{ path('app_trajet_detail', { id: trajet.id }) }}" class="btn btn-ecoride w-100">
                 Voir les détails
                </a>
                </div>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>
{% endblock %}
