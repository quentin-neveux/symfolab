{% extends 'base.html.twig' %}

{% block title %}Proposer un trajet - EcoRide{% endblock %}

{% block body %}
<section class="hero-global hero-proposer d-flex align-items-center text-center text-white position-relative">
  <div class="container">
    <h2 class="hero-title mb-3 text-white">Proposer un trajet</h2>
    <h2 class="hero-tagline mb-4 text-white">Partage ta route, r√©duis ton empreinte</h2>
  </div>
</section>

<section class="proposer-section py-5 bg-light">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <div class="card ecoride-form shadow p-4 rounded-4 position-relative">

          <!-- üü¢ Titre du formulaire -->
          <div class="text-center mb-4">
            <h2 class="fw-bold text-success">Cr√©er ton trajet</h2>
            <p class="text-muted">
              Indique les d√©tails de ton voyage pour aider d'autres passagers √† te rejoindre
            </p>
          </div>

          {{ form_start(form) }}
          <div class="row g-3">

            <!-- Ville de d√©part -->
            <div class="col-md-6">
                <div class="position-relative">

                    {{ form_label(form.villeDepart, 'Ville de d√©part') }}
                    {{ form_widget(form.villeDepart, {
                        attr: {
                            id: 'ville-depart',
                            placeholder: 'Ex : Lyon',
                            autocomplete: 'off',
                            class: 'form-control rounded-pill px-3 py-2'
                        }
                    }) }}
                    <ul id="ville-depart-list" class="autocomplete-list"></ul>
                </div>
                {{ form_errors(form.villeDepart) }}
            </div>

            <!-- Ville d‚Äôarriv√©e -->
            <div class="col-md-6">
                <div class="position-relative">
                    {{ form_label(form.villeArrivee, 'Ville d‚Äôarriv√©e') }}
                    {{ form_widget(form.villeArrivee, {
                        attr: {
                            id: 'ville-arrivee',
                            placeholder: 'Ex : Grenoble',
                            autocomplete: 'off',
                            class: 'form-control rounded-pill px-3 py-2'
                        }
                    }) }}
                    <ul id="ville-arrivee-list" class="autocomplete-list"></ul>
                </div>
                {{ form_errors(form.villeArrivee) }}
            </div>

            <!-- Date et heure de d√©part -->
            <div class="col-12">
              {{ form_row(form.dateDepart, {
                label: 'Date et heure de d√©part',
                attr: { class: 'form-control rounded-pill px-3 py-2 text-center' }
              }) }}
            </div>

            <!-- Type de v√©hicule -->
            <div class="col-md-6">
              {{ form_row(form.typeVehicule, {
                label: 'Type de v√©hicule',
                attr: { placeholder: 'Ex : Berline, SUV‚Ä¶', class: 'form-control rounded-pill px-3 py-2' }
              }) }}
            </div>

            <!-- Places disponibles -->
            <div class="col-md-6">
              {{ form_row(form.placesDisponibles, {
                label: 'Places disponibles',
                attr: { class: 'form-control rounded-pill px-3 py-2' }
              }) }}
            </div>

            <!-- √ânergie -->
            <div class="col-md-6">
              {{ form_row(form.energie, {
                label: '√ânergie',
                attr: { class: 'form-select rounded-pill px-3 py-2' }
              }) }}
            </div>

            <!-- Commentaire -->
            <div class="col-12">
              {{ form_row(form.commentaire, {
                label: 'Commentaire (optionnel)',
                attr: { placeholder: 'Infos pratiques, pause caf√©, bagages‚Ä¶', class: 'form-control px-3 py-2' }
              }) }}
            </div>

            <!-- Info tokens automatiques -->
            <div class="col-12">
              <p class="text-muted small">
                üí° Le co√ªt en tokens sera calcul√© automatiquement en fonction de la distance du trajet.
              </p>
            </div>

          </div>

          <!-- Bouton -->
          <div class="text-center mt-4">
            <button type="submit" class="btn btn-ecoride w-100">Publier mon trajet</button>
          </div>

          {{ form_end(form) }}

        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
