{% extends 'base.html.twig' %}

{% block title %}Mes trajets - EcoRide{% endblock %}

{% block body %}
<section class="hero-section hero-profil d-flex align-items-center text-center text-white position-relative">
  <div class="container">
    <h2 class="hero-title mb-3 text-white">Tableau de bord</h2>
    <h2 class="hero-tagline mb-4 text-white">L'ensemble de tes trajets proposÃ©s</h2>
  </div>
</section>

<section class="py-5 bg-light">
  <div class="container text-center">
    {% if trajets is empty %}
      <p class="text-muted">Tu nâ€™as encore proposÃ© aucun trajet ðŸš—</p>
    {% else %}
      <div class="trajets-list d-flex flex-wrap justify-content-center gap-4">
        {% for trajet in trajets %}
          <div class="trajet-card card">
            <div class="card-body text-start">
              <h5 class="text-success fw-bold mb-2">
                {{ trajet.villeDepart }} â†’ {{ trajet.villeArrivee }}
              </h5>
              <p class="mb-1"><i class="bi bi-calendar"></i> {{ trajet.dateDepart|date('d/m/Y') }}</p>
              <p class="mb-1"><i class="bi bi-clock"></i> {{ trajet.dateDepart|date('H:i') }}</p>
              <p class="mb-1"><i class="bi bi-people"></i> {{ trajet.placesDisponibles }} place(s)</p>
              <p class="mb-1"><i class="bi bi-cash"></i> {{ trajet.prix }} â‚¬ / personne</p>
              <p class="small text-muted">{{ trajet.typeVehicule }} â€¢ {{ trajet.energie }}</p>
              {% if trajet.commentaire %}
                <p class="small fst-italic mt-2 text-secondary">{{ trajet.commentaire }}</p>
              {% endif %}

              <div class="mt-3 d-flex justify-content-center gap-3">
              <!-- Bouton Modifier -->
              <a href="{{ path('app_trajet_edit', { id: trajet.id }) }}" class="btn btn-outline-primary btn-modify">
                <i class="bi bi-pencil"></i> Modifier
              </a>
            
              <!-- Bouton Supprimer -->
              <a href="{{ path('app_trajet_delete', { id: trajet.id }) }}"
                 class="btn btn-outline-danger btn-modify"
                 onclick="return confirm('âŒ Es-tu sÃ»r de vouloir supprimer ce trajet ? Cette action est irrÃ©versible.');">
                <i class="bi bi-trash"></i> Supprimer
              </a>
            </div>


            </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>
{% endblock %}


