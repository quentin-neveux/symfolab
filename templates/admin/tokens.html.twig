{% extends 'admin/_layout.html.twig' %}

{% block admin_content %}

<h2 class="text-success mb-4 fw-bold">
    Modifier les tokens utilisateur
</h2>

<div class="card p-4 shadow-sm rounded-4">

    <form action="{{ path('admin_tokens_update') }}"
          method="POST"
          class="row g-4"
          onsubmit="return confirm('Confirmer la modification des tokens ?')">

        <div class="col-md-6">
            <label class="form-label fw-semibold">Utilisateur</label>
            <select name="user" class="form-select rounded-pill py-2" required>
                <option value="">Sélectionne un utilisateur</option>
                {% for u in users %}
                    <option value="{{ u.id }}">
                        {{ u.prenom }} {{ u.nom }} – {{ u.email }}
                        ({{ u.tokens }} tokens)
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="col-md-6">
            <label class="form-label fw-semibold">
                Montant (+ pour ajouter / − pour retirer)
            </label>
            <input
                type="number"
                name="amount"
                class="form-control rounded-pill py-2"
                step="1"
                placeholder="+10 ou -5"
                required
            >
        </div>

        <div class="col-12 text-end">
            <button class="btn btn-success rounded-pill px-5 py-3 fw-bold">
                Appliquer
            </button>
        </div>

    </form>

</div>

{% endblock %}
