{% extends 'base.html.twig' %}

{% block title %}Signaler - EcoRide{% endblock %}

{% block body %}

<section class="hero-global hero-proposer d-flex align-items-center text-center text-white position-relative">
  <div class="container">
    <h2 class="hero-title mb-3 text-white">Signaler</h2>
    <p class="hero-tagline text-white">
      {{ trajet.villeDepart }} → {{ trajet.villeArrivee }}
    </p>
  </div>
</section>

<section class="py-5 bg-ecoride-light">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">

        <div class="card shadow p-4 rounded-4">

          <div class="alert alert-warning">
            Tu signales : <strong>{{ target.prenom }} {{ target.nom }}</strong> (conducteur) — Trajet #{{ trajet.id }}
          </div>

          <form method="post" action="">
            <input type="hidden" name="_token" value="{{ csrf_token('dispute_' ~ trajet.id) }}"/>

            <div class="mb-3">
              <label class="form-label fw-semibold">Raison</label>
              <select name="reason" class="form-select" required>
                <option value="" selected disabled>Choisir…</option>
                <option value="COMPORTEMENT">Comportement</option>
                <option value="DANGER">Conduite dangereuse</option>
                <option value="ARNAQUE">Suspicion d’arnaque</option>
                <option value="NON_RESPECT">Non-respect des règles</option>
                <option value="AUTRE">Autre</option>
              </select>
            </div>

            <div class="mb-3">
              <label class="form-label fw-semibold">Détails (optionnel)</label>
              <textarea name="message" class="form-control" rows="4" placeholder="Explique ce qu’il s’est passé…"></textarea>
            </div>

            <div class="d-flex gap-2">
              <button class="btn btn-danger w-100 rounded-pill py-2 fw-semibold" type="submit">
                Envoyer le signalement
              </button>

              <a class="btn btn-outline-secondary w-100 rounded-pill py-2" href="{{ path('app_trajet_detail', {id: trajet.id}) }}">
                Annuler
              </a>
            </div>

          </form>
        </div>

      </div>
    </div>
  </div>
</section>

{% endblock %}
