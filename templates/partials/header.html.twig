{# ============================================================
   HEADER - NAVBAR ECORIDE 
   ============================================================ #}

<nav class="navbar navbar-expand-lg sticky-top ecoride-navbar shadow-sm py-3">
  <div class="container d-flex align-items-center justify-content-between">

    <!-- LOGO ECORIDE -->
    <a class="navbar-brand d-flex align-items-center text-decoration-none navbar-brand-link" href="{{ path('app_home') }}">
      <h2 class="hero-title-ecoride fw-semibold mb-2">EcoRide</h2>
    </a>

    <!-- BURGER (mobile) -->
    <button class="navbar-toggler border-0 ecoride-burger" type="button"
            data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- MENU PRINCIPAL -->
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav align-items-center gap-3">

        {% if app.user %}
          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_profil') }}"><i class="bi bi-person me-2"></i>Mon profil</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_mes_trajets') }}"><i class="bi bi-car-front me-2"></i>Mes trajets</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_proposer_trajet') }}"><i class="bi bi-map me-2"></i>Proposer un trajet</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_historique') }}"><i class="bi bi-clock-history me-2"></i>Historique</a>
          </li>

          {# Déconnexion seule, sans "Bonjour ..." #}
          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_logout') }}" style="color: var(--eco-danger); font-weight: 500;">
              <i class="bi bi-box-arrow-right me-2"></i>Déconnexion
            </a>
          </li>


        {% else %}
          {# === UTILISATEUR NON CONNECTÉ === #}
          <li class="nav-item text-white">
            <a href="{{ path('app_home') }}" class="nav-link {% if app.request.pathinfo == '/' %}active{% endif %}">
              Accueil
            </a>
          </li>

          <li class="nav-item text-white">
            <a href="{{ path('app_conseils') }}" class="nav-link {% if app.request.pathinfo starts with '/conseils' %}active{% endif %}">
              Conseils & Actus
            </a>
          </li>

          <li class="nav-item text-white">
            <a href="{{ path('app_apropos') }}" class="nav-link {% if app.request.pathinfo starts with '/a-propos' %}active{% endif %}">
              À propos
            </a>
          </li>
          <li class="nav-item nav-item-buttons d-flex">
            <a href="{{ path('app_connexion') }}" class="btn-nav-light">Se connecter</a>
            <a href="{{ path('app_inscription') }}" class="btn-nav-light">Créer un compte</a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
