{# ============================================================
   FOOTER ECORIDE â€” version enrichie type "Funix"
   Minimaliste, informatif et cohÃ©rent avec la charte EcoRide
============================================================ #}

<footer class="footer-ecoride mt-auto py-5 text-light">
  <div class="container">
    <div class="row gy-4 justify-content-between">

      <!-- === Bloc 1 : Logo + phrase Ã©thique === -->
      <div class="col-md-4 text-center text-md-start">
        <h5 class="footer-brand fw-bold mb-2">
          <a href="{{ path('app_home') }}" class="text-decoration-none text-light">EcoRide</a>
        </h5>
        <p class="small mb-2 opacity-75 fst-italic">Changeons dâ€™air, pas de Terre.</p>
        <p class="small mb-0 opacity-75">
          Â© 2025 EcoRide â€” Quentin Neveux<br>
          Tous droits rÃ©servÃ©s.
        </p>
      </div>

      <!-- === Bloc 2 : Liens utiles === -->
      <div class="col-md-4 text-center">
        <h6 class="fw-bold text-uppercase mb-3">Liens utiles</h6>
        <ul class="list-unstyled mb-0">
          <li><a href="{{ path('app_home') }}" class="footer-link">Accueil</a></li>
          <a href="{{ path('app_proposer_trajet') }}" class="footer-link">Proposer un trajet</a>
          <li><a href="{{ path('app_recherche') }}" class="footer-link">Rechercher un trajet</a></li>
          <li><a href="{{ path('app_inscription') }}" class="footer-link">CrÃ©er un compte</a></li>
          <li><a href="{{ path('app_contact') }}" class="footer-link">Contact</a></li>
        </ul>
      </div>

      <!-- === Bloc 3 : Contact / RÃ©seaux sociaux === -->
      <div class="col-md-4 text-center text-md-end">
        <h6 class="fw-bold text-uppercase mb-3">Restons connectÃ©s</h6>

        <div class="d-flex justify-content-center justify-content-md-end align-items-center gap-3 mb-3">
          <a href="https://linktr.ee/EcoRide.Covoiturage.Ecologique" class="social-link" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
          <a href="https://linktr.ee/EcoRide.Covoiturage.Ecologique" class="social-link" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
          <a href="https://linktr.ee/EcoRide.Covoiturage.Ecologique" class="social-link" aria-label="Twitter"><i class="bi bi-twitter-x"></i></a>
          <a href="https://linktr.ee/EcoRide.Covoiturage.Ecologique" class="social-link" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>

          {# ðŸŒ¿ Logo secret EcoRide : Easter Egg Aim Trainer #}
          <img src="{{ asset('assets/images/eco-target.png') }}"
               id="eco-secret-logo"
               alt="Eco secret"
               width="25"
               height="25"
               class="ms-1"/>
        </div>

        {# <a href="{{ path('app_contact') }}" class="btn btn-contact-footer px-3 py-2 mt-2">
          Contactez-nous
        </a> #}
      </div>

    </div>

    <!-- Ligne fine sÃ©paratrice -->
    <hr class="mt-5 mb-3 opacity-25">

    <!-- === Mentions lÃ©gales / politique === -->
    <div class="text-center small opacity-50">
      <a href="{{ path('app_mentions_legales') }}" class="footer-link me-3">Mentions lÃ©gales</a>
      <a href="{{ path('app_confidentialite') }}" class="footer-link">Politique de confidentialitÃ©</a>
    </div>
  </div>
</footer>

<!-- === POPUP ECO AIMLAB === -->
<div id="aimlab-popup">
  <div class="popup-content">
    <button id="close-popup">&times;</button>
    <iframe src="/aimlab.html" title="Eco Aim Trainer"></iframe>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const leaf = document.getElementById("eco-secret-logo");
  const popup = document.getElementById("aimlab-popup");
  const closeBtn = document.getElementById("close-popup");
  const iframe = popup ? popup.querySelector("iframe") : null;

  if (leaf && popup && closeBtn && iframe) {
    // ouverture
    leaf.addEventListener("click", (e) => {
      e.preventDefault();

      // chemin corrigÃ© pour Symfony (fichier placÃ© dans /public/)
      iframe.src = "{{ asset('aimlab.html') }}?v=" + Date.now();

      popup.style.display = "flex";
    });

    // fermeture + purge du cache du jeu
    closeBtn.addEventListener("click", () => {
      popup.style.display = "none";
      iframe.src = "about:blank"; // vide tout
    });
  }
});
</script>

